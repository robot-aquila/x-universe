<?xml version="1.0" standalone="yes" ?>
<?xml-stylesheet href="x2script.xsl" type="text/xsl" ?>
<script>
<name>wwsl.T2.validate.buyer</name>
<version>1000</version>
<engineversion>33</engineversion>
<description>Validate buyer</description>
<arguments>
<argument index="1" name="station" type="Var/Station" desc="Station to validate" />
</arguments>
<sourcetext>
<line linenr="001" indent=""><var>skip&#160;if&#160;</var><var>$station</var></line>
<line linenr="002" indent="&#160;"><text>return&#160;</text><var>[FALSE]</var></line>
<line linenr="003" indent=""><var>skip&#160;if&#160;</var><var>$station&#160;-&gt;</var><text>&#160;exists</text></line>
<line linenr="004" indent="&#160;"><text>return&#160;</text><var>[FALSE]</var></line>
<line linenr="005" indent=""></line>
<line linenr="006" interruptable="@" indent=""><var>$ware&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>wwsl.T2.getVar</call><text>&#160;:&#160;</text><text>&#160;Variable&#160;suffix=</text><var>'WP'</var></line>
<line linenr="007" interruptable="@" indent=""><var>$minPrice&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>wwsl.T2.getVar</call><text>&#160;:&#160;</text><text>&#160;Variable&#160;suffix=</text><var>'SP'</var></line>
<line linenr="008" interruptable="@" indent=""><var>$minAmount&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>wwsl.T2.getVar</call><text>&#160;:&#160;</text><text>&#160;Variable&#160;suffix=</text><var>'MA'</var></line>
<line linenr="009" indent=""></line>
<line linenr="010" interruptable="@" indent=""><var>skip&#160;if&#160;not&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>wwsl.T2.isDeniedStation</call><text>&#160;:&#160;</text><text>&#160;Station=</text><var>$station</var></line>
<line linenr="011" indent="&#160;"><text>return&#160;</text><var>[FALSE]</var></line>
<line linenr="012" interruptable="@" indent=""><var>skip&#160;if&#160;not&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>wwsl.T2.isLockedStation</call><text>&#160;:&#160;</text><text>&#160;Station=</text><var>$station</var><text>&#160;</text><text>&#160;Ware=</text><var>$ware</var><text>&#160;</text><text>&#160;0-for&#160;buying,&#160;1-for&#160;selling=</text><var>1</var></line>
<line linenr="013" indent="&#160;"><text>return&#160;</text><var>[FALSE]</var></line>
<line linenr="014" interruptable="@" indent=""><var>skip&#160;if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>wwsl.T2.isStationCanBuy</call><text>&#160;:&#160;</text><text>&#160;Station=</text><var>$station</var><text>&#160;</text><text>&#160;Ware=</text><var>$ware</var></line>
<line linenr="015" indent="&#160;"><text>return&#160;</text><var>[FALSE]</var></line>
<line linenr="016" interruptable="@" indent=""><var>$amount&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>wwsl.util.getWareAmountPerc</call><text>&#160;:&#160;</text><text>&#160;Station=</text><var>$station</var><text>&#160;</text><text>&#160;Ware=</text><var>$ware</var><text>&#160;</text><text>&#160;Sum&#160;up&#160;amount&#160;in&#160;cargo=</text><var>[FALSE]</var></line>
<line linenr="017" indent=""><var>skip&#160;if&#160;</var><var>$amount</var><text>&#160;</text><var>&lt;</var><text>&#160;</text><var>95</var></line>
<line linenr="018" indent="&#160;"><text>return&#160;</text><var>[FALSE]</var></line>
<line linenr="019" indent=""><var>if&#160;</var><var>$minAmount</var><text>&#160;</text><var>&gt;</var><text>&#160;</text><var>0</var></line>
<line linenr="020" indent="&#160;"><var>$amount&#160;=&#160;</var><var>$station&#160;-&gt;</var><text>&#160;get&#160;true&#160;amount&#160;of&#160;ware&#160;</text><var>$ware</var><text>&#160;in&#160;cargo&#160;bay</text></line>
<line linenr="021" indent="&#160;"><var>skip&#160;if&#160;</var><var>$amount</var><text>&#160;</text><var>&lt;=</var><text>&#160;</text><var>$minAmount</var></line>
<line linenr="022" indent="&#160;&#160;"><text>return&#160;</text><var>[FALSE]</var></line>
<line linenr="023" indent=""><text>else</text></line>
<line linenr="024" indent="&#160;"><var>$price&#160;=&#160;</var><var>$station&#160;-&gt;</var><text>&#160;get&#160;price&#160;of&#160;ware&#160;</text><var>$ware</var></line>
<line linenr="025" indent="&#160;"><var>skip&#160;if&#160;</var><var>$price</var><text>&#160;</text><var>&gt;=</var><text>&#160;</text><var>$minPrice</var></line>
<line linenr="026" indent="&#160;&#160;"><text>return&#160;</text><var>[FALSE]</var></line>
<line linenr="027" indent=""><text>end</text></line>
<line linenr="028" indent=""><text>return&#160;</text><var>[TRUE]</var></line>
</sourcetext>
<codearray>
<sval type="array" size="10"><sval type="string" val="wwsl.T2.validate.buyer" /><sval type="int" val="33" /><sval type="string" val="Validate buyer" /><sval type="int" val="1000" /><sval type="int" val="0" /><sval type="array" size="6"><sval type="string" val="station" /><sval type="string" val="ware" /><sval type="string" val="minPrice" /><sval type="string" val="minAmount" /><sval type="string" val="amount" /><sval type="string" val="price" /></sval><sval type="array" size="25"><sval type="array" size="7"><sval type="int" val="104" /><sval type="int" val="-536870393" /><sval type="int" val="1" /><sval type="int" val="131074" /><sval type="int" val="0" /><sval type="int" val="1" /><sval type="int" val="-1" /></sval><sval type="array" size="3"><sval type="int" val="103" /><sval type="int" val="131075" /><sval type="int" val="9" /></sval><sval type="array" size="4"><sval type="int" val="706" /><sval type="int" val="131074" /><sval type="int" val="0" /><sval type="int" val="-536869881" /></sval><sval type="array" size="3"><sval type="int" val="103" /><sval type="int" val="131075" /><sval type="int" val="9" /></sval><sval type="array" size="8"><sval type="int" val="102" /><sval type="string" val="wwsl.T2.getVar" /><sval type="int" val="1" /><sval type="int" val="131075" /><sval type="int" val="1" /><sval type="int" val="1" /><sval type="int" val="5" /><sval type="string" val="WP" /></sval><sval type="array" size="8"><sval type="int" val="102" /><sval type="string" val="wwsl.T2.getVar" /><sval type="int" val="2" /><sval type="int" val="131075" /><sval type="int" val="1" /><sval type="int" val="1" /><sval type="int" val="5" /><sval type="string" val="SP" /></sval><sval type="array" size="8"><sval type="int" val="102" /><sval type="string" val="wwsl.T2.getVar" /><sval type="int" val="3" /><sval type="int" val="131075" /><sval type="int" val="1" /><sval type="int" val="1" /><sval type="int" val="5" /><sval type="string" val="MA" /></sval><sval type="array" size="8"><sval type="int" val="102" /><sval type="string" val="wwsl.T2.isDeniedStation" /><sval type="int" val="-1610610424" /><sval type="int" val="131075" /><sval type="int" val="1" /><sval type="int" val="1" /><sval type="int" val="131074" /><sval type="int" val="0" /></sval><sval type="array" size="3"><sval type="int" val="103" /><sval type="int" val="131075" /><sval type="int" val="9" /></sval><sval type="array" size="12"><sval type="int" val="102" /><sval type="string" val="wwsl.T2.isLockedStation" /><sval type="int" val="-1610609912" /><sval type="int" val="131075" /><sval type="int" val="1" /><sval type="int" val="3" /><sval type="int" val="131074" /><sval type="int" val="0" /><sval type="int" val="131074" /><sval type="int" val="1" /><sval type="int" val="4" /><sval type="int" val="1" /></sval><sval type="array" size="3"><sval type="int" val="103" /><sval type="int" val="131075" /><sval type="int" val="9" /></sval><sval type="array" size="10"><sval type="int" val="102" /><sval type="string" val="wwsl.T2.isStationCanBuy" /><sval type="int" val="-536867577" /><sval type="int" val="131075" /><sval type="int" val="1" /><sval type="int" val="2" /><sval type="int" val="131074" /><sval type="int" val="0" /><sval type="int" val="131074" /><sval type="int" val="1" /></sval><sval type="array" size="3"><sval type="int" val="103" /><sval type="int" val="131075" /><sval type="int" val="9" /></sval><sval type="array" size="12"><sval type="int" val="102" /><sval type="string" val="wwsl.util.getWareAmountPerc" /><sval type="int" val="4" /><sval type="int" val="131075" /><sval type="int" val="1" /><sval type="int" val="3" /><sval type="int" val="131074" /><sval type="int" val="0" /><sval type="int" val="131074" /><sval type="int" val="1" /><sval type="int" val="131075" /><sval type="int" val="9" /></sval><sval type="array" size="13"><sval type="int" val="104" /><sval type="int" val="-536866809" /><sval type="int" val="3" /><sval type="int" val="131074" /><sval type="int" val="4" /><sval type="int" val="4" /><sval type="int" val="95" /><sval type="int" val="15" /><sval type="int" val="3" /><sval type="int" val="3" /><sval type="int" val="-1" /><sval type="int" val="3" /><sval type="int" val="-2" /></sval><sval type="array" size="3"><sval type="int" val="103" /><sval type="int" val="131075" /><sval type="int" val="9" /></sval><sval type="array" size="13"><sval type="int" val="104" /><sval type="int" val="-1610607357" /><sval type="int" val="3" /><sval type="int" val="131074" /><sval type="int" val="3" /><sval type="int" val="4" /><sval type="int" val="0" /><sval type="int" val="15" /><sval type="int" val="2" /><sval type="int" val="3" /><sval type="int" val="-1" /><sval type="int" val="2" /><sval type="int" val="-2" /></sval><sval type="array" size="6"><sval type="int" val="619" /><sval type="int" val="131074" /><sval type="int" val="0" /><sval type="int" val="4" /><sval type="int" val="131074" /><sval type="int" val="1" /></sval><sval type="array" size="13"><sval type="int" val="104" /><sval type="int" val="-536865785" /><sval type="int" val="3" /><sval type="int" val="131074" /><sval type="int" val="4" /><sval type="int" val="131074" /><sval type="int" val="3" /><sval type="int" val="15" /><sval type="int" val="5" /><sval type="int" val="3" /><sval type="int" val="-1" /><sval type="int" val="5" /><sval type="int" val="-2" /></sval><sval type="array" size="3"><sval type="int" val="103" /><sval type="int" val="131075" /><sval type="int" val="9" /></sval><sval type="array" size="2"><sval type="int" val="112" /><sval type="int" val="24" /></sval><sval type="array" size="6"><sval type="int" val="627" /><sval type="int" val="131074" /><sval type="int" val="0" /><sval type="int" val="5" /><sval type="int" val="131074" /><sval type="int" val="1" /></sval><sval type="array" size="13"><sval type="int" val="104" /><sval type="int" val="-536864761" /><sval type="int" val="3" /><sval type="int" val="131074" /><sval type="int" val="5" /><sval type="int" val="131074" /><sval type="int" val="2" /><sval type="int" val="15" /><sval type="int" val="4" /><sval type="int" val="3" /><sval type="int" val="-1" /><sval type="int" val="4" /><sval type="int" val="-2" /></sval><sval type="array" size="3"><sval type="int" val="103" /><sval type="int" val="131075" /><sval type="int" val="9" /></sval><sval type="array" size="3"><sval type="int" val="103" /><sval type="int" val="131075" /><sval type="int" val="10" /></sval></sval><sval type="array" size="1"><sval type="array" size="2"><sval type="int" val="12" /><sval type="string" val="Station to validate" /></sval></sval><sval type="array" size="4"><sval type="array" size="2"><sval type="int" val="4" /><sval type="int" val="2" /></sval><sval type="array" size="2"><sval type="int" val="7" /><sval type="int" val="2" /></sval><sval type="array" size="2"><sval type="int" val="21" /><sval type="int" val="5" /></sval><sval type="array" size="2"><sval type="int" val="24" /><sval type="int" val="4" /></sval></sval><sval type="int" val="0" /></sval>
</codearray>
</script>
